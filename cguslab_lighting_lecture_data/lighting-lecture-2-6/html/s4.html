 <!-- =================================================================
     SLIDE 2-4: 운영체제 유틸리티 (os)
     파일 이름: stage2_04_os.html
================================================================== -->
<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>운영체제 유틸리티 (os)</title><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/><link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet"/><link href="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/themes/prism-tomorrow.css" rel="stylesheet"><style>body{font-family:'Noto Sans KR',sans-serif;background-color:#0f172a;color:#f8fafc;overflow-x:hidden}.slide-container{width:1280px;min-height:720px;margin:0 auto;position:relative}.title-accent{color:#60a5fa}.number-badge{background-color:#a855f7}pre[class*="language-"]{background:#1e293b;padding:1.25em;border-radius:0.5rem;border:1px solid rgba(59,130,246,0.3)}code[class*="language-"]{font-family:'D2Coding','Courier New',monospace;font-size:0.9rem}.code-title{background-color:#374151;color:#d1d5db;padding:0.5rem 1rem;border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;font-weight:bold;font-size:0.875rem}.inline-code{background-color:#374151;color:#fBBF24;padding:0.1rem 0.3rem;border-radius:0.25rem;font-family:monospace;font-size:0.9em}</style>
</head>
<body>
	<div class="slide-container relative bg-slate-900">
		<div class="relative z-10 px-12 py-10 w-full">
			<div class="mb-5"><div class="flex items-center mb-3"><div class="number-badge rounded-full w-10 h-10 flex items-center justify-center text-white font-bold text-lg mr-4">OS</div><h1 class="text-4xl font-black">운영체제 유틸리티 <span class="title-accent">os</span></h1></div><p class="text-gray-400 text-lg ml-14"><span class="inline-code">os</span> 모듈은 경로 결합, 환경변수, 현재 작업 디렉터리, 파일/디렉터리 나열 등 운영체제 관련 기능을 제공합니다.</p><div class="ml-14 mt-3"><a href="s4-1.html" class="inline-flex items-center text-sm text-blue-300 hover:text-blue-200 underline"><i class="fas fa-graduation-cap mr-2"></i>심화 슬라이드 보기</a></div></div>
			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div><p class="code-title">[기본 예제]</p><pre><code class="language-python">import os

print("현재 작업 디렉터리:", os.getcwd())

# 경로 결합/분해
root = os.path.expanduser("~")
project = os.path.join(root, "maya", "scripts")
print(project)

# 환경변수 읽기/설정
print(os.environ.get("PATH", "<없음>"))
os.environ["MY_APP_MODE"] = "dev"

# 디렉터리 내 나열
for name in os.listdir("." ):
    print(name)</code></pre></div>
				<div>
					<p class="code-title">[실전 문제]</p>
					<p class="bg-slate-800 p-4 rounded-b-lg">현재 폴더에 <code class="inline-code">exports</code> 디렉터리가 없으면 만들고(<code class="inline-code">os.makedirs</code>), 그 안에 빈 파일 <code class="inline-code">hello.txt</code>를 생성해보세요. (힌트: <code class="inline-code">os.path.exists</code>, <code class="inline-code">open(...,'w')</code>)</p>
					<button id="btn-os" onclick="toggleAnswer('answer-os', 'btn-os')" class="mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 ease-in-out"><i class="fas fa-eye mr-2"></i>해답 보기</button>
					<div id="answer-os" class="mt-3 bg-slate-800 p-4 rounded-lg border border-blue-900" style="display: none;">
						<p class="text-gray-300"><i class="fas fa-check-circle text-green-400 mr-2"></i><strong>해답:</strong></p>
						<pre><code class="language-python">import os

base = os.path.join(os.getcwd(), "exports")
if not os.path.exists(base):
    os.makedirs(base)

hello_path = os.path.join(base, "hello.txt")
with open(hello_path, "w", encoding="utf-8") as f:
    f.write("")

print("생성됨:", hello_path)</code></pre>
					</div>
				</div>
			</div>

			<!-- 테스트 환경 준비 스크립트 -->
			<div class="mt-8">
				<p class="code-title">[테스트 환경 준비 스크립트]</p>
				<p class="text-gray-300 bg-slate-800 p-4 rounded-b-lg">아래 스크립트를 실행하면 이 슬라이드들의 예제/실습을 바로 테스트할 수 있는 폴더와 파일들이 생성됩니다. (주의: 기존 파일은 덮어쓰지 않고, 필요한 폴더/파일만 생성합니다.)</p>
				<pre><code class="language-python">import os, json


def ensure_file(path: str, size_bytes: int | None = None, text: str | None = None) -> None:
	os.makedirs(os.path.dirname(path), exist_ok=True)
	if text is not None:
		with open(path, "w", encoding="utf-8") as f:
			f.write(text)
		return
	with open(path, "wb") as f:
		f.write(b"x" * (size_bytes or 0))


def main() -> None:
	cwd = os.getcwd()
	print("작업 폴더:", cwd)

	# s5 예제용: example.txt
	ensure_file(os.path.join(cwd, "example.txt"), text="example file for shutil\n")

	# s5 실습용: textures 디렉터리와 샘플 파일들
	textures = os.path.join(cwd, "textures")
	os.makedirs(os.path.join(textures, "sub"), exist_ok=True)
	ensure_file(os.path.join(textures, "albedo.png"), size_bytes=12345)
	ensure_file(os.path.join(textures, "normal.png"), size_bytes=23456)
	ensure_file(os.path.join(textures, "sub", "roughness.jpg"), size_bytes=7890)

	# s5 심화용: assets 디렉터리 (무시 대상 포함)
	assets = os.path.join(cwd, "assets")
	os.makedirs(os.path.join(assets, "__pycache__"), exist_ok=True)
	ensure_file(os.path.join(assets, "mesh.fbx"), size_bytes=5432)
	ensure_file(os.path.join(assets, "notes.tmp"), text="temp file")
	ensure_file(os.path.join(assets, "__pycache__", "dummy.pyc"), size_bytes=256)

	# s4 심화용: 홈 프로젝트에 .ma/.mb 샘플
	home = os.path.expanduser("~")
	project_root = os.path.normpath(os.path.join(home, "my_project"))
	for sub in ["assets", os.path.join("shots", "shotA"), os.path.join("shots", "shotB")]:
		os.makedirs(os.path.join(project_root, sub), exist_ok=True)
	ensure_file(os.path.join(project_root, "assets", "chair_v001.ma"), size_bytes=11111)
	ensure_file(os.path.join(project_root, "assets", "table_v012.mb"), size_bytes=22222)
	ensure_file(os.path.join(project_root, "shots", "shotA", "shotA_v100.ma"), size_bytes=33333)
	ensure_file(os.path.join(project_root, "shots", "shotB", "shotB_v045.mb"), size_bytes=44444)
	ensure_file(os.path.join(project_root, "README.txt"), text="demo project for slides\n")

	# 선택: s5 안전 예시용 설정 파일
	ensure_file(os.path.join(cwd, "data", "config.json"), text=json.dumps({"env": "dev"}, ensure_ascii=False, indent=2))

	print("준비 완료. 이제 슬라이드의 예제/실습을 바로 실행해보세요.")


if __name__ == "__main__":
	main()</code></pre>
			</div>
		</div>
		<div class="absolute bottom-6 left-12 right-12 flex justify-between items-center text-gray-400"><div class="flex items-center"><i class="fas fa-book mr-2"></i><span class="text-sm">Maya Python 스크립팅 과정</span></div><div class="flex items-center space-x-4"><span class="text-sm">Slide 4 of 11</span></div></div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/components/prism-core.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/plugins/autoloader/prism-autoloader.min.js"></script>
	<script>
		function toggleAnswer(answerId, buttonId) {
			const answerEl = document.getElementById(answerId);
			const buttonEl = document.getElementById(buttonId);
			if (answerEl.style.display === 'none' || answerEl.style.display === '') {
				answerEl.style.display = 'block';
				buttonEl.innerHTML = '<i class="fas fa-eye-slash mr-2"></i>해답 숨기기';
			} else {
				answerEl.style.display = 'none';
				buttonEl.innerHTML = '<i class="fas fa-eye mr-2"></i>해답 보기';
			}
		}
	</script>
</body>
</html>